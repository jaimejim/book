language: rust
sudo: false
cache: cargo
rust:
- stable
before_script:
- "(test -x $HOME/.cargo/bin/cargo-install-update || cargo install cargo-update)"
- (test -x $HOME/.cargo/bin/mdbook || cargo install --vers "^0.1" mdbook)
- cargo install-update -a
script:
- mdbook build && mdbook test
deploy:
  provider: pages
  skip-cleanup: true
  # How to generate the token
  # travis encrypt "GITHUB_TOKEN" --add deploy.api_key
  #github-token: "$GITHUB_TOKEN" 
  local-dir: "./book"
  keep-history: true
  on:
    branch: master
  api_key:
    secure: f9HUAb28g2MW7AgAeITE3caTXK9Ve9c5yo5wgvjTewjOEEWjI0nmNoOlX/f0x0si88Tt/wDGIGpjv1utvarB3xuekIYwv4gYAk3EwX9E2yl1MNtJReRvPKvkbbPOhleLHjJykae46ajUrzJBXxySpbKPGpmHjqKYLELK7B9r1HPWpm1zDKEw4LbyzOIBwbtCpAj9Cg592HqX/VlKAO01PALg3/613AIdOoF1mU3lKuWpqQcLLOjU853lh2hLcbQDyu0s3k977652nO6wujKTDYxMzyVdl0QdMwRc8xufox4oECy/uzr4h5HdkL3JbgTVANfPmL7fn8TNDw0jLuK1uEGdZRqzgJRWpniieYR8PAiOL+G7DAz3qOUxtUQTPiT7xSn9UscodYVk1Q/OVbCMIwAZhQiqPH9g4XPP/o5G8qvnJbh/AHr8eGhn+2fWBgL1ZZX3PzgE07SQaz41TL0+v13agAAssms4uKK3TrL85+t7CEw4/Bd1EcrV/A6ch/2p1Mxm1nyNH3JiZW/AQuMdCdsEBvR+jXvCmjRDq/TwhwwOmLkA0qsez2H8T604S76nChQl+FjUj9ibj1bor6ajah9lAPWik/JRBXPcILtkiSTdMIjo/gOusDbD7z7Ryhj9weyr3/2JVzW0SbjfI0uxcZE6dNv+C8DB/1N5xKGuUik=
