language: rust
sudo: false
cache: cargo
rust:
- stable
before_script:
- "(test -x $HOME/.cargo/bin/cargo-install-update || cargo install cargo-update)"
- (test -x $HOME/.cargo/bin/mdbook || cargo install --vers "^0.1" mdbook)
- cargo install-update -a
script:
- mdbook build && mdbook test
deploy:
  provider: pages
  skip-cleanup: true
  github-token: "$GITHUB_TOKEN"
  local-dir: "./book"
  keep-history: true
  on:
    branch: master
  api_key:
    secure: Jh/dEkCqoBgBMzuzl0HO5zNWWfxMte4d/Kadzph5lfWp4cInpdQ9KfJAuxYFGy7+1igVBPclkgDOE4vFmGHxWsTOkp33Bw9+KdF1FflDn/oGYna2T3qTFTVx9BUxdEFnANEjAIbxlea0kIrbzwsWjSbbbRS1dzbrj1f3xMptHcY9WdhZoohq9r1864MuCveP6uJvOkgYKynmyec8XbqT539fXfVBUYg+/eyR65nyxYpARHK9yuSAxr70UTRYGZoR1YV+2uq8fwaK6oBmM1dI0Mu3YdVIRQR6H8Y46d7wNBNlTt/GXKwTNURpx6M6zjC09b9F5JYv4NtAo0iw7SThqWY8gHX/pzrw2eSZnIAm8iSMUx6wxX9xE8hmE2iI171RYczoTZfIUlcDU+4yT83SCkaET8b9iseoEho76vB19NVvS3YzYviRuRFbYvy1/4eolA0GCkOffIPfA00adOZ2WkNCtjhOgIjZYXUFMuibFrTmBWZWvlf/m3cChZhs6arn1n4hfWVbojQA7ylNfcC81Ek06OakTCuGc4f5KzvTJQ5ae7mTw+28Xlt6yjQLr54MIN2hIJ1TrOaYKreo0YOIwO5VXhZi1BMLS0iwpmw1Ld1iRuo+cb3HrKk52T2le/ihzn3Zt5/ui3/LNEta/buW5i0rgD39TnJl25m62pTwHLM=
