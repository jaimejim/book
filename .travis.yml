language: rust
sudo: false
cache: cargo
rust:
- stable
before_script:
- "(test -x $HOME/.cargo/bin/cargo-install-update || cargo install cargo-update)"
- (test -x $HOME/.cargo/bin/mdbook || cargo install --vers "^0.1" mdbook)
- cargo install-update -a
script:
- mdbook build && mdbook test
deploy:
  provider: pages
  skip-cleanup: true
  github-token: "$GITHUB_TOKEN"
  local-dir: "./book"
  keep-history: true
  on:
    branch: master
  api_key:
    secure: JAGx8ECRQ6leTZAjS1+OC+fWLHJrYL5e8s05c+bmhzbvj7OFLhH+avdHPevzgzB6/Qs/gwrizrog8/mxFBgOb6KVo+l+z2zV9mDMmemFgwsvWBA9Pci5kHPx7Sk3PyggQSsqWz8ScjjRj6fxJ1cXEFLTqJ3FXa5KgHj1BP/SHBXOtWMb4POFEyYAjSLaT8cLSDFbr3Z2ZxfsIsTLl4DBMot6ZcBkCrxgxVOLLd/cqhgsx2CHbHVu5CbggN7OonrPI7aRpwZL+bErZApqWuXBC7a1uAgmrgmCjlGfHUGyXDNg7J+dfku3AeWAlRf30WA4kEHoZS2r2bkb+4zQJ8b3HVs73fD+FWWhcQk3Y9QGNnzmUZzsAzxOVIZy2uB8GI98d09eDQX5h6sB48sdshEUjBoJWQLg56nwWn75FoozAwxhV4xZ8YrthaP+Nq6vIfshi8CwXPXCTCS+vfDQHDwu5z+KCY4QvaEG1edbPeqRljEtqnvEpPGPGX0/IXupyRmIZXe8PXv8J32ehZnJqj5LUS7ZwAiuJZHH/ytKqv8DMZgn8AT44hoF/YdVon8RjCd2EHky0xOr1uqG5lNkGFmV4ZNkg8mr5Asmb4z91aqsoOyIZPB9UxNFaJUoNQV1UXQZ4J1H892FegH4N9z0P/0VCEAkbsxGKx6wVeIihuUzci4=
